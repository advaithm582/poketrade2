{% extends "base.html" %}
{% block title %}{{ the_pokemon.name }} - Stats{% endblock %}

{% block content %}
<style>
.card {
    display: flex;
    flex-direction: row;       
    flex-wrap: nowrap;         
    background-color: #f44336;
    border-radius: 20px;
    padding: 20px;
    color: white;
    font-family: Arial, sans-serif;
    max-width: 800px;
    margin: auto;
}
.card .card-image-section {
    flex: 1;
    background-color: #e0e0e0;
    border-radius: 12px;
    padding: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0px 1rem;
    
}
.card .card-image-section img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}
.card .info-section {
    flex: 1;
    background-color: #4CAF50;
    border-radius: 12px;
    padding: 20px;
    color: #fff;
}
.types span {
    background-color: #a5d6a7;
    color: #1b5e20;
    padding: 3px 8px;
    border-radius: 5px;
    margin-right: 5px;
}
.subtypes li {
    display: inline;
    margin-right: 8px;
    background: #81c784;
    padding: 3px 6px;
    border-radius: 5px;
}
.info-label {
    font-weight: bold;
    margin-top: 10px;
    display: inline-block;
}
.buy-button {
    background-color: #00e676;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    color: black;
    font-weight: bold;
    margin-top: 20px;
    cursor: pointer;
}
</style>

<div class="card">
    <div class="card-image-section">
        <img src="{{ the_pokemon.card.url }}" alt="{{ the_pokemon.name }}">
    </div>
    <div class="info-section">
        <h2>{{ the_pokemon.name }}</h2>

        {% if the_pokemon.supertype %}
            <div class="info-label">Supertype:</div> {{ the_pokemon.supertype }}<br>
        {% endif %}

        {% if the_pokemon.subtypes %}
            <div class="info-label">Subtypes:</div>
            <ul class="subtypes">
                {% for st in the_pokemon.subtypes %}
                <li>{{ st }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        {% if the_pokemon.types %}
            <div class="info-label">Types:</div>
            <div class="types">
                {% for type in the_pokemon.types %}
                    <span>{{ type }}</span>
                {% endfor %}
            </div>
        {% endif %}

        {% if the_pokemon.hp >= 0 %}
            <div class="info-label">HP:</div> {{ the_pokemon.hp }}<br>
        {% endif %}

        {% if the_pokemon.flavorText %}
            <div class="info-label">Description:</div>
            <p>{{ the_pokemon.flavorText }}</p>
        {% endif %}

        <div class="info-label">Evolves from:</div>
        {% if the_pokemon.evolves_from %}
                {{ the_pokemon.evolves_from }}
        {% else %}
            <em>nothing</em>
        {% endif %}

        <br><br>
        <button class="buy-button">Buy</button>
        {% if in_wishlist %}
            <form method="post" action="{% url "trading:unwish" the_pokemon.pk %}">
                {% csrf_token %}
                <button type="submit">unwish</button>
            </form>
        {% else %}
            <form method="post" action="{% url "trading:wish" the_pokemon.pk %}">
                {% csrf_token %}
                <button type="submit">wish</button>
            </form>
        {% endif %}
    </div>
</div>
{% endblock %}



